local autoToggles = {"Delete Enemies", "Delete Debris", "Disable Animations"}

if not game:IsLoaded() then game.Loaded:Wait() end

if game.PlaceId ~= 12886143095 and game.PlaceId ~= 18583778121 then
    local library = loadstring(game:HttpGet("https://pastebin.com/raw/PfpbFHcM"))();

    local Window1 = library:CreateWindow("ALS Anti-Crash");

    Window1:Toggle("Delete Enemies", function(E)
        DE = E;
        spawn(AntiCrash)
    end)

    Window1:Toggle("Delete Debris", function(F)
        DD = F;
        spawn(AntiCrash)
    end)

    Window1:Toggle("Disable Animations", function(G)
        DTA = G;
        spawn(AntiCrash)
    end)

    function AntiCrash()
        while task.wait() do
            if DE then
                pcall(function()
                    for _, v in pairs(workspace.Enemies:GetChildren()) do
                        v:Destroy()
                    end
                end)
            end
            if DD then
                pcall(function()
                    for _, v in pairs(workspace.Debris:GetChildren()) do
                        v:Destroy()
                    end
                end)
            end
            if DTA then
                pcall(function()
                    for _, v in pairs(workspace.Towers:GetDescendants()) do
                        if v.Name == "Animations" and v:IsA("Folder") then
                            v:Destroy()
                        end
                    end
                end)
            end
        end
    end

    repeat task.wait() until game:GetService("ReplicatedStorage"):FindFirstChild("UnitVFX") and game:GetService("ReplicatedStorage"):FindFirstChild("EnemyAbilityVFX")

    for _, v1 in pairs(game:GetService("ReplicatedStorage").UnitVFX:GetDescendants()) do
        if v1:IsA("ModuleScript") then
            local mScript = require(v1)
            if typeof(mScript) == "table" then
                for key, value in pairs(mScript) do
                    if typeof(value) == "function" then
                        mScript[key] = function() return end
                    end
                end
            end
        end
    end

    for _, v in pairs(game:GetService("ReplicatedStorage").EnemyAbilityVFX:GetDescendants()) do
        if v:IsA("ModuleScript") then
            local mScript = require(v)
            if typeof(mScript) == "function" then
                mScript = function() return end
            end
        end
    end

    repeat task.wait() until game:GetService("CoreGui"):FindFirstChild("UI Library")
    
    for _, v in pairs(game:GetService("CoreGui")["UI Library"]:GetDescendants()) do
        if v.Name == "ToggleText" and v:IsA("TextLabel") and table.find(autoToggles, v.Text) then
            local toggleButton = v.Parent:FindFirstChild("MainToggle")
            if toggleButton then
                firesignal(toggleButton["MouseButton1Click"])
            end
        end
    end
end
